services:
- docker
dist: xenial
script:
- docker-compose -f docker-compose-test.yml up --abort-on-container-exit
- python3 -VV
- pip -V
before_deploy:
- python -m pip install --upgrade pip setuptools wheel
- python3 -m pip install --user awscli
- python3 -m pip install --user awsebcli
- export PATH=$PATH:$HOME/.local/bin
env:
  global:
    - PATH=/opt/python/3.7.1/bin:$PATH
    - secure: tht7ZZL2v91LXzNZlclYgqXJTXo3tx4iO1mhjV73bLbFm/XXczmzuwfhazKsw+71OiaC14t/8eB9wKGEz43U839r3Xy4fri/0iM1VJV7APrZ7tpDb9TcSknPcHP/K2D7VLmMyX93BMDOnWl95p/aAZVDdV5y1FhyrMpUfMgINbxaz3nfrQ4GUqaBhFuS687MXHzByamzSIIJMIrTGZeJvkvO83sPwx7KYiesX2z7CWhvZj1NfYvdWIycEFTXEM+Xiaua1p9sXLZ7nEVcOfNYYPfBJbmKo48ohlmb8un8Tj/PKSmPmTqsS8ksVJSpR3klrMLTtDWd4LhcRXMzgZbOn9TpQgKKSrzFS9rfbmw2lbpGg2EPOc88V8Gp5ZXOTsasz7zdG9GUCfX6rb2ZXqSiwIZTXHqbRwK62x9tq7yFPkW55uguLO/5Qg9jGAPQeS5AOGiUhwm67UnOG/r1XHqRXXUm3liBt/qI6NoI+9LnZXA0LAFnzuWI/eoo4iMkOM/i3cMXePx6TUesJ8ce1WD3rnH107/94S9Q92o31yZTZRymXIiJ8kp6r5Hl5trau3ppixS9DB5X3ICMdgAYbdG0O3XLwpfCmHAybtjv5cAROHmXGQwWwvPbRggstX+TqSq+9XUQ0TvS/Ngj/2DXGTLt3P1yJKRGph4aj+Unkv7Qlj8=
    - secure: N3euCrIyPxEz3GOmSFs1OiI0gBAY77VpMD+JjFdNR8GpVMAhRJgKPaEqi2xnBBLzpXW8DoQj0geImjRMJrdZJvo0XiDqEOSSLVURPwEBPgms0PI7SrpG3sFi1KbNMV86cFPwHZ2FE/8mR75YcOLNREGyH/y/KNI1wD+1nQdczFmH0OhIcvG/VpYqJsQekH2eftvuRsgyV21tN0fO02rvwOOIxJRQq3NDNYjbO+YgpDoDLWOlQKxUQK2KKms7o6m+34RnLaf4UAmodNc8SdnY7aSK/ZLfMMQzonWjpGHseBB9RkavznVfq7fKwD9xGXlRkF9H6Jj4zZ9psv3XNSkjdnvWb4kmPyGp547LSe/rwH+Hrya2uYvlMlujIOudReYhg5oI5GDyBGFvfno5I4Cg8z9CZ20irABhV0tRJnzPgDZ8XPhyhx/gb8lVQTnUy3RbwdLTQlpN0BJWX0DSFrWI3owdLtnHEY9Dbrm7N6iMw5vMMKX/BzLnEuCaUYxSjOKA5M7eB/lt4ziRum/mHkrmtmqOd6CM6B7dHF8ntUjV3Inb0pOoIErvgwsICyLrU+zXiqSb4rBDcCb6iCeEy3t8nC78NlrDuFzIkzFNsIvFANlAQYCBgTm8zQ3nIpekQvxeO5SweIfwAMGIsnJ4ej/jDM5gMhTPpc1nSupANbsa72A=
    - secure: LthFV+papeANs+A4uHwJzBKedAQafd4n2yFE/ndGmwsTIVNtFkfAH/rVjPVFzWmaCAZjBCKQQYtELsiPw8xpvPB8zHNeflkO5+uKQp/H7ZgesDcvlKnKUUstukZc53YU8S7rGZBagSQjNk0FQHUtAxRdn2H3Hou9cH2d6/Ux9jJXUvzhCtaCjuX1yBFunuXD/GyJpOokHw/+hgQcXDP5OA5YvyttPF5mA0bbxLehMxB0hE8RzrdKT/DRJcbcyb8hGlHHma8q+RKpwr9lvN1mP5fRQvMbfEVTrQ4crHyJuQ3HCX2HQnFtN7uW+l2Qhnl4SnoWY4QQt87GgUAmPU6Ds5JH2y3FvisbMewQose3rK8NP6fGIZOwUOdkJaREpATCypT479oXn48J7eWq3ouwoaGKqqv1N7Amk5OT+JEC7E5QIUDN2hwGXL8NOkvZsMMWzETA2IRG9x9VWc0dEdRVCOtlbq74/7TDw4OVzedJNxhyWatQksDFPKb2wc9WwTaTg2MiYZLc8PhrwjKijun9LzCc0vpir/4ztHh8DFziX6swzTfyPEcj6z9SMW3V97NJVGfCfSoTJiRQ0wWylRPXjWgc8wiNeFY9u+JMHxnFLpZBqheC7ZQgRyCVrGrXw7/Hc6IEIOsbjGNyWukt30ztqd0jI1w7rMhRHeFeJmcCuc4=
    - secure: QLnJ6/IxfOCs/sxYTGq8AAz0laMGsG8BUVz5wzAzzTuST2EPoU4VXbdw3x0fLCU+aijqNaJ92YVeq+FzQPbRvGhGF/o/ewbQd8I+wecMLLQEcdV4mSBi2kjIvciynDewfCIYeb+b1EaCJpRCEgQdiUN+G+uG+PQmfO8jhdmveYFg/2EnRxJV6UCWII/nfH7OjtUxdTrVRIQBJ7TYlhNhnFRZIC5D/vlPw7NBxZFq9NYYRuYSra0jrJxmI8kpcFMjhmWCp7XiWS5ki432jsjFnmy05AyJZ3el2UdIguExepGublqRnRE6Zow3bjnaThsDIqtSOV9v5vuDHHwAZGhE/0K6BGAec2FXdgqeIx6ClEJ4nPZaN9y849BTQzliCdtMm/kIUYoLHCT3sKpPiFd3qlzwjhY45yMHbeZCx1doygIeud6qd3rJB7HNE8yLoI0K8S/BNGxkVMyJsM0sCjs2krSj3bB4paWJgyImH0e46w0jLyvhtXaEYvyZ44Qpjr+iTC0RVMJg0+GhGGtVsl/3LPSOl+OacOSWGY1SbGvZ/GgF1sEVLOOufa7R6Co9fl91rMT/C9/XC/e/ePIpDTovm8YJFeu2/17a4oL3XyA6pyikX5/qneVwJ2kDGtAwUxLmetXsCHw1XuQH8SjOs7b7JBgoB3TNEzKizrEY/Bu+OsY=
    - secure: GlgQYUnL55bAPaBWMy+5oXtoNKR+4mG5EfXRXqFUdg/R/hr9M/zhmd/RyeHkd4rpo5rUMUFqFn8U5uUkCwQW3wg/VZNQSh9/kKv/OMroNuwfiQ5J6ZJ/bLET1JvLPsjqGwlw4liTryyx6YKJ+5u6ikJ0OCzhVhBa8wh0q1TsQfFwUU7DwNbShhga6MnHHuNgeZ0Sy2Lcvyld74qJFttxqKEkc+U+qY04749JUtRncd/okP7/KFK5qGJTSaT2ezdxMUz3/gm7eyQJcWlo3W0U/lpXP2X/Tn+xzCGHXykR1CNmhGEEgPb2DQfpDu/McjNwRUrbzUP97RV86Z5X7h+DuFZGIQEJB4SbMg29vI0itLOyMjn/9wkgPMfPBrUsECsQJQb1HSk6rEzGuZJYzyOLIJu7p65lSz53jz3Dc1XrzRnCI3QTGb+lV+erD/VszFt8CvS8k1S7h5uq1Fcc7WMDPfM0bHm3+Y7K52KbEfS4XC5CX7pvyI/hh1Ag5/voHLChykRhgXsJ2l37IwO8taYg1y2GuYSJexroDjP/zTSYMHNDL3Bpkn/EJ4RWicrxkBRq2TFKg7PJ5pGIJnVwMYQdtqJuds5MmKJyZ0NyztqaF4ZzyOUzv/xd7pQth69n9+LgcprcU5ddAg9FqxJDYI7gO+zjR5wz7o4sRPK+mON948E=
deploy: 
  provider: script
  skip_cleanup: true
  on:
    branch: main
  script: sh $TRAVIS_BUILD_DIR/scripts/deploy.sh
