services:
- docker
dist: xenial
script:
- docker-compose -f docker-compose-test.yml up --abort-on-container-exit
- python3 -VV
- pip -V
before_deploy:
- python -m pip install --upgrade pip setuptools wheel
- python3 -m pip install --user awscli
- python3 -m pip install --user awsebcli
- export PATH=$PATH:$HOME/.local/bin
env:
  global:
  - PATH=/opt/python/3.7.1/bin:$PATH
  - secure: yPeQv3o/nHG6S83J1VXNOwNZM7kLfVnWnM8XcJCEwZhYgWLao1xAAefd7cS5kpA7Za69nwW7owGFQuXZn+nRXGEL8NxhkaQa4zhT5HaZApN9OXzTfntk9nyPpsj8FvGM8iQwv+7//u9/B18P3ioYpXy323j69qSxqCzNsREGWJzmy60FoSck30MwKlA3kIvcK9wXb5WMbWpi351XCpwarTjyG2lwim9s0Pmp6eGaoRVHB8RGKuCRGA0I+CwTPIoRnnZ81KQxq00hxRpDinLnW7C529WwdsxdxlNW0xDrC7kDJZ5LahRTFdcigajLCHXqBqqerMvDuaOw/7rTiZJmMQnLnoXo/SNCbQXmdRa9tnpd5aoNYvJ/cTTQhe0Kyxh+JGQH8WsPwXMc23OVmEy65FQfOH8V48Kl77RH8EaiE56hfObF337UsREu1ZMGVkEiqp5GCekmsYoSYYbA1k8sWNlpLMd1OFM9USmyh4yEkksea5OU+R0MhoJC51HK+xceg9daevjm1UOIXwnbnp7noEkAdaey3FgTCAK9NIc8A63NeptrM08K15oxejC1PNukLqeNGbDagJLvMgj7ESbSut/V3oftkaRtKG6nWVmBtFsxUciIfksw3ERgh4Rqdq1V8UG/wcIHfecnURUDFOnMDuxGM08yJw6O57hEE4yptII=
  - secure: 03D0i1N3TjKpjjnlaA5ueQkG2EAlOP4xCGirA/ff8WqedjoTA/YNW2xb+6Ofe/DwxOqogJCqemxpol/jIQ9CpkjqjtQfZq4w28Bn8J8EvNS5PErrz3v9/4N+eGDbnrINXcMZMwDnKlxNDtCoHwEeL39kc7O5Nmyf55UuXY6RB2T4DidfHXvO8OSPx2coLg8KXOuqI10fPPd+mrIxy+HXsr4GQxFlyRdlq/fMguCih8D8AQcFZuR9FMupeR5TDd9Clu62HQhSdwaYIZQsYzejezdEk0akRVqSl5hMrJdb257O3Sf+MdCwux9eSabZYUOQLnKv8uj1QJ1+Ms8k4e+65qZIWdICrltEthun+uiXwugtIJoF6f1F8V/SQvB6sXtvQJlXJWvVSQJMun8KGPRDYdvoZbKsLsiwAbNf0z4UqqVOZWJUgJ99wOoG+6xpx2CCg45jtEY68tb3JnEqfYonIV6a+MT3dXj4fz9KjyS5Ne5kxSzKyQjYmI266KJUgWLXV5FA8exe42Cq7aHGrJGyag0pJ6oehQWQVNsF7oWA6Xi2KhD6Eeiu3jOMEZHWeZCsDiOeRLk1yNP4eAl7tmMNYsOFcRcr//8GalTr8EfgM91FYS2tmbxkilYrAnPeSmVrRFIuvD4CCCIku0ZNyy7wnwnUDGhmoM9QardSD9z1z3o=
  - secure: vz/SAAFlKt77hATvoJDunfPUB14Cq9pw/vY/UuAc8NH/aiED2JDKrnEshh5F588sHu1dLoRdvyxBXiRXtr8MearC6GuXMh4KmEGJDFE+vz/+Dk3oQLKD+0KysZPtPSe6oirCnVbWtWhCC8gx5pgQhb7QYV1Dn2zBvB1vmbhJ4+0xeAl8z0790W1hZC9So45rfbxpkQzgXL9z/lLTqw6m+AtB1Ho4x4iUjH00l1xC8Db1BFvDUF4QVB2U1W+9Xb+jq+ddOsEhW/6+WbI3mAaNmYEpScNgZ259JSQrPQnQu9pkvDgMdQrXZlUq9CMV0vXzyAg4vOC4MbEUO++1a9cBM6I1Zob0qpsLoIXUSpbGz0hI+5iJyd6UV94PZkJUjWh8dxwKmDfZf8z075ZDeeIlc6Ncjxu7HES1WaMMAIEyLGkPGI9GW411bUqZfcEtT9NzQboymBmsRjFG4Yny9HIlgfcJ7les6wKyxGbOmYxVC2kFl8s8/Wel5dS4Ag6wmjEbDpFDg0FMFJ8iyTey+CSjTuq+sM6PciUvlPJkIMuikGChYW7LWocFpd1pMrBAkA01c5HPMQgnalB+fYwq9qR7rS4s62r7LiWqX1PKdvRu0H5cl/1WzGdod5oGYxQctdY5N5JNV4ErJFFStzPnadBEiangUd7An4Cn3q6y6lEm738=
  - secure: kT4lkAUPfbNW7jU3O0hn6TRZqwgKww5DfwQTjmKnUFt6PpvibbnjnFctXdMAwJluQVEjo5PENCzHeE4VfSbB/VFL9bhU3fYOwhGQH+poCyxv+DEDQ/T8UFsLZNy9ai60VbrUIEguR4IDe/qSq1dPUE+skEM2HBqYyoBJ0jqaQacQmWk1YnN7Z8ysyTyBrRZb8ofIHsi1XS4FaEmsKAPNiz75wRCWrBMaASoSDjtDPVlz0hTL9O7V2qRHsGCrvQvEDKIBgsQ+Fv03kw0ZwUbmSY7rTi8lDNVuYPT3GTs0PgBv7SgoazkzkHa6clcph0evbGpcCkvsDBqm2jpt7/qLmtCjtoC59pevZyNCt/2EcO8nrhRaQdgBjtbRRDY3lWuoE3sHBvw9zmba9TRWZ014MxPaTXV5AdVhAGO62GOTyo0Dx2v0ttX7rGOJoeA8WGc+nMRga58gn4EU/DaEifDbqPB2wk1Spe4KjMqhvm2XRbkVk7LQA6l0bKBh74F0FBbOGMQXp60Ommf2U/nsHH4/bpb86mag79JHIqxMDes12/rgTUqdtukm/91klQpJZrz5Ga2H2zoVgZB3A1uCJ0uaOPorE0KnZMEr141kgq9kTeIp1+u86bz5Pksvvcuz8vAGOGLxbfPMAuZ7iimNF0UJM3Yr9IA7WmVItwHd08VElr4=
  - secure: oG6T1yIFKsrNIijZQo+Rw7ztL0E4TgUGRrRpbBDjBcn2nieDVriK6mDAUBpfGMmwIdo4+s9VsyiFi91+dzgTbsQSg0xeBBMekpZIYO/RyWqQYUazrDvrdU4VF/zG3mTO44xaOIQinkOr29gAR0vUllB6xdClEIGG5UWLKWEDboJJovUbjnkGBAFFiUwa+OINcknxlIspNKbTtcfPHbdJQ9cdyEO7KudmYU8hkdgUcHQFQesHwda/lvaKwNa3ZwGJPlWjkbAyzPBsRoV0FWoJN1BN3L9kdLWsBTI/PoVXRoT25E3PU7xiPNh8XhQ5KWBFkXiEVVAdN7xsXVDVfV9YW7cX4m0TWNlEK2HXRYElfm9DMF4x9BZ+mXUWbRezLFMG2hS6bAsmskyAUl7qisN6jkjmOb9EcZa1KHPLVPHujYoAGM0HENXfzYTSDQaFYFizUCkipYVgyOTMbVUbklY3QpE74JlI1YwQKfLfd/dJmnOJFludShPIOkvPOaalRFNTvcG3FBMfabFv+OB9FL62+K5+orT3rDgx2wkPC2GNFFhEq1Qm0ziy+fguBMMWD2pVJyncIFGkT5fuAvUG8CoAQjNP7oTGqECAtEx+hp+wiqfmDD1Avqeyc2VwYpZOy15fbOsE3W+NdB4q8gY3Ow7g9roerbvFvyvrdLTcWvNVnCQ=
  deploy: 
  provider: script
  skip_cleanup: true
  on:
    branch: main
  script: sh $TRAVIS_BUILD_DIR/scripts/deploy.sh
